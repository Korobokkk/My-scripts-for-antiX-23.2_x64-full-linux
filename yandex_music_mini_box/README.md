# Yandex Music Mini Box (Linux / X11)

Небольшая утилита на shell-скриптах для Linux, которая находит запущенный клиент
Яндекс Музыки и помещает его окно в компактный «мини-бокс» на экране.

Проект ориентирован на лёгкие оконные менеджеры (IceWM, Openbox, Fluxbox)
и старое или слабое железо.

---

## Что делает проект

- Проверяет наличие необходимых зависимостей (wmctrl, xdotool, notify-send)
- При необходимости предлагает установить недостающие пакеты
- Определяет окно Яндекс Музыки и других клиентов|плееров содержащих в названии "music" или "музыка"  (поддержка RU / EN названий)
- Изменяет размер и позицию окна
- Переводит окно в фокус

Проект работает только под X11.

---

## Описание файлов

### ya_music_mini_box.sh
Основной скрипт

- Точка входа проекта
- Запускает проверку зависимостей
- Проверяет наличие X11-сессии
- Ищет окно Яндекс Музыки
- Перемещает и изменяет размер окна
- Переводит окно в фокус

Можно запускать многократно — состояние системы не ломается.

---

### ya_music_deps_check.sh
Проверка зависимостей

- Проверяет наличие нужных команд в системе
- Если зависимости отсутствуют:
  - спрашивает подтверждение у пользователя
  - запускает установщик
- Корректно возвращает код выхода для использования в других скриптах

Интерактивный скрипт (предназначен для запуска из терминала).

---

### ya_music_deps_install.sh
Установщик зависимостей

- Устанавливает необходимые пакеты через apt
- Использует sudo при необходимости
- Выводит цветные сообщения в терминал
- Может запускаться вручную или через deps_check

Устанавливаемые пакеты:
- wmctrl
- xdotool
- libnotify-bin

---

## Требования

- Linux с X11
- Дистрибутив на базе apt (Debian / antiX / Ubuntu)
- Клиент Яндекс Музыки или PWA, содержащий в названии окна:
  music, музыка, yandex, яндекс

---

## Использование
**ВНИМАНИЕ!!! Для первого запуска рекомендуется использоавть консоль или VS Code, т.к. установка зависимостей предполагает подтверждение от юзера** 
### Флаги 
Для запуска в среде без cmd(например hotkeys) необходимо использовать флаг `--hotkey`
### Первичный запуск
Сделать каждый файл с .sh исполняемым:
```bash
chmod +x ya_music_*.sh
```
Запуск скрипта в консоли:
```bash
sh <путь до файла>/ya_music_mini_box.sh
```
### Установка на hotkeys
Вы можете назначить вызов скрипта `ya_music_mini_box.sh` на *HotKeys*:
```bash
nano ~/.icewm/keys
```
в открытом файле добавить:
```bash
key "<комбинация>" sh <абсолютный путь до файла>/ya_music_mini_box.sh--hotkey
```
после этого обновить icewm
```bash
icewm --restart
```